{var postDeletedNoty=new Noty({type:"success",text:"Post deleted",theme:"relax",timeout:2e3}),postCreatedNoty=new Noty({type:"success",text:"Post Cerated",theme:"relax",timeout:2e3});let t=function(){let t=$("#new-post-form");t.submit((function(o){o.preventDefault(),$.ajax({type:"POST",url:"/posts/createPost",data:t.serialize(),success:function(t){let o=e(t.data.post,t.data.userName);$("#posts-list-container>ul").prepend(o),postCreatedNoty.show(),n($(`#${t.data.post._id}`)),new ToggleLike($(".like-button"),o)},error:function(t){console.log(t.responseText)}})}))},e=function(t,e){return`<li id="post_${t._id}">  \n              <small>\n                    <a class='delete-post-button' id="${t._id}" href="posts/destroy/${t._id}">X</a>\n              </small>      \n        <p>\n              ${t.content}\n              <br>\n              <small>\n                    ${e}\n              </small>\n              <small>\n                <a class="like-button" data-likes=0 href="/likes/toggle/?id=${t._id}&type=posts">0 Likes</a>\n              </small>\n        </p>\n    \n        <div class="post-comments">\n\n                    \n                    <form class='post-comment-form' action="/comments/create" method="POST">\n                    <input type="text" name="content" placeholder="Add a comment" required>\n                    <input type="hidden" name="post" value="${t._id}">\n                    <input type="submit" value="Add"> \n                    </form>\n                    \n\n              <div class="post-comments-list">\n                    <ul id="post-comments-${t._id}>">\n                        \n                    </ul>\n              </div>      \n        </div> \n    </li>`},n=function(t){$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$(`#post_${t.data.post_id}`).remove(),postDeletedNoty.show()},error:function(t){console.log(t.responseText)}})}))};t();let o=$(".delete-post-button");for(let t of o)n(t)}